%% E-Machine / Motor Technical Specifications
% Michigan Tech
% April 10th, 2010
%
% Initialization File updated for MTU_HVM_2_0f.mdl
%
% Motor_Option is selected in "Student_Design_Parameters.m"
%

disp('   - Setting Motor Option Parameters');

if (Motor_Option == 0) 
    
    Motor_Km =  0.507;                 % Motor Torque constant, Nm/A
    Motor_Ra =  0.451;                 % Armature resistance, ohms

    N = [     0  200  400  600  800 1000 1200 1400 1600 1800 2000 2200 2400 2600 ...
           2800 3000 3200 3400 3600 3800 4000 4200 4400 4600 4800 5000 5200 ...
           5400 5600 5800 6000 6200 6400 6600 6800 7000 7400];

    T = [ 30.0000	30.0000	30.0000	30.0000	30.0000	30.0000	30.0000 ...
          30.0000	30.0000	30.0000	30.0000	30.0000	30.0000	30.0000 ...
          30.0000	30.0000	30.0000	30.0000	30.0000	30.0000	30.0000	... 
          30.0000	30.0000	30.0000	28.7500	27.6000	26.5385	25.5556	... 
          24.6429	23.7931	23.0000	22.2581	21.5625	20.9091	20.2941	19.7143 0];
    T = 9.0/14.46*T;
          
elseif (Motor_Option == 1) 
    
    Motor_Km =  1.67;                  % Motor Torque constant, Nm/A
    Motor_Ra =  0.182;                 % Armature resistance, ohms

    N = [  0 200 400 600 800 1000 1200 1400	1600 1800 2000 2200	2400 2600 ...
           2800 3000 3200 3400 3600 3800 4000 4200 4400 4600 4800 5000 5200 ...
           5400 5600 5800 6000 6200 6400 6800];
       
    T = [ 440.0000	440.0000	440.0000	440.0000	440.0000 ...
          440.0000	366.6667	314.2857	275.0000	244.4444 ...
          220.0000	200.0000	183.3333	169.2308	157.1429 ...
          146.6667	137.5000	129.4118	122.2222	115.7895 ...
          110.0000	104.7619	100.0000	95.6522	91.6667	88.0000 ...
          84.6154	81.4815	78.5714	75.8621	73.3333	70.9677	68.7500 0];
    T = 30.00/46.08*T;
      
elseif (Motor_Option == 2) 

    Motor_Km =   0.94;                 % Motor Torque constant, Nm/A
    Motor_Ra =  0.106;                 % Armature resistance, ohms

    N = [  0 200 400 600 800 1000 1200 1400	1600 1800 2000 2200	2400 2600 ...
           2800 3000 3200 3400 3600 3800 4000 4200 4400 4600 4800 5000 5200 ...
           5400 5600 5800 6000 6200 6400 6600 6800 7000 7200 7400 7800];

    T = [ 240.0000	240.0000	240.0000	240.0000	240.0000 ...
          240.0000	240.0000	240.0000	240.0000	240.0000 ...
          240.0000	240.0000	240.0000	240.0000	240.0000 ...
          240.0000	225.0000	211.7647	200.0000	189.4737 ...
          180.0000	171.4286	163.6364	156.5217	150.0000 ...
          144.0000	138.4615	133.3333	128.5714	124.1379 ...
          120.0000	116.1290	112.5000	109.0909	105.8824 ...
          102.8571	100.0000	97.2973 0 ];
    T = 45/75.4*T;  
      
end

%%
Motor_Torque_Speed_Index_rpm = N;
Motor_Torque_Peak_Nm         = T;

%figure;
%    h = plot(N, T, 'r');
%    set(h, 'linewidth', 3);

clear T N

